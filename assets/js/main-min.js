var $root,$topMenu,homeGaleriaClickable=!1,homeGaleriaTarget="",homeGaleriaAnimTime=800,gallery2Activated=!1;function initHome(){$("#galeria .galeria.active .wrapper").slick({dots:!0,prevArrow:$("#galeria .galeria.active .arrow.left-arrow"),nextArrow:$("#galeria .galeria.active .arrow.right-arrow"),appendDots:$("#galeria .galeria.active .galeria-dots")}),$("#galeria .galeria-kategorie a.button").click(function(){!$(this).is(".active")&&homeGaleriaClickable&&(homeGaleriaClickable=!1,homeGaleriaTarget="#"+$(this).attr("data-target"),$(".galeria-kategorie a.button.active").removeClass("active"),$(this).addClass("active"),$(".galeria.active").animate({opacity:0},250,"easeInCubic",function(){$(".galeria.active").removeClass("active"),$(homeGaleriaTarget).addClass("active").css("opacity",0).animate({opacity:1},400,"easeOutCubic",function(){homeGaleriaClickable=!0}),gallery2Activated||(gallery2Activated=!0,$(homeGaleriaTarget).find(".wrapper").slick({dots:!0,prevArrow:$(homeGaleriaTarget).find(".arrow.left-arrow"),nextArrow:$(homeGaleriaTarget).find(".arrow.right-arrow"),appendDots:$(homeGaleriaTarget).find(".galeria-dots")}))}))}),homeGaleriaClickable=!0}$(document).ready(function(){if($root=$("html, body"),$topMenu=$("#top-menu"),initMenu(),initRezerwacja(),$("#home-header").length?initHome():$("#uslugi").length&&initOferta(),$("a[href*=\\#]").click(function(){var e="#"+$.attr(this,"href").split("#").pop();if($(e).length){var i=$(e).offset().top;return"block"==$("#mq-indicator-phone").css("display")?i-=$topMenu.outerHeight():i-=80,$root.animate({scrollTop:i},1e3,"easeInOutCubic"),!1}}),$("#cookies-information").length&&$("#cookies-information .close").click(function(){createCookie("cookies_accepted","true",7),$("#cookies-information").animate({opacity:0},300,"easeOutCubic",function(){$("#cookies-information").remove()})}),$(window).resize(),$(window).scroll(),window.location.hash){var e=$(window.location.hash).offset().top;"block"==$("#mq-indicator-phone").css("display")?e-=$topMenu.outerHeight():e-=80,$root.animate({scrollTop:e},1e3,"easeOutCubic")}}),$(window).on("load",function(){$(window).resize(),$(window).scroll()});var submenuClickable=!1,mobileMenuClickable=!1;function initMenu(){$(window).scroll(function(){$(window).scrollTop()>20?$topMenu.addClass("scrolling"):$topMenu.removeClass("scrolling")}),$("#top-menu .menu-item .more").click(function(){submenuClickable&&(submenuClickable=!1,$(this).is(".active")?($(this).removeClass("active"),$(this).next(".submenu").animate({opacity:0},150,"easeOutCubic",function(){$("#top-menu .menu-item .more.active").next(".submenu").css("display","none"),submenuClickable=!0}),submenuClickable=!0):($("#top-menu .menu-item .more.active").length&&($("#top-menu .menu-item .more.active").next(".submenu").css("display","none"),$("#top-menu .menu-item .more.active").removeClass("active")),$(this).addClass("active"),$(this).next(".submenu").css({display:"block",opacity:0}).animate({opacity:1},150,"easeOutCubic",function(){submenuClickable=!0})))}),$("#top-menu .menu-item").click(function(e){e.stopPropagation()}),$("html").click(function(e){$topMenu.find(".more.active")&&($topMenu.find(".more.active").next(".submenu").css("display","none"),$topMenu.find(".more.active").removeClass("active"))}),$("#mobile-menu-button").click(function(){mobileMenuClickable&&(mobileMenuClickable=!1,$("#mobile-menu").hasClass("open")?($(this).removeClass("open"),$("#mobile-menu").animate({opacity:0},400,"easeOutCubic",function(){$("#mobile-menu").removeClass("open"),mobileMenuClickable=!0})):($(this).addClass("open"),$("#mobile-menu").addClass("open").css("opacity",0).animate({opacity:1},400,"easeOutCubic",function(){mobileMenuClickable=!0})))}),mobileMenuClickable=!0,submenuClickable=!0}var uslugiClickable=!1,cennikClickable=!1,cennikKatChanged=!1;function initOferta(){$("#uslugi .kategorie a").click(function(){uslugiClickable&&!$(this).is(".active")&&(uslugiClickable=!1,$("#uslugi .kategorie a.prev").removeClass("prev"),$("#uslugi .kategorie a.active").removeClass("active"),$(this).addClass("active"),$(this).is(":first-child")||$(this).prev("a").addClass("prev"),$("#uslugi .tresci .content.active").animate({opacity:0},250,"easeOutSine",function(){$("#uslugi .tresci .content.active").removeClass("active"),$("#"+$("#uslugi .kategorie a.active").attr("data-target")).css("opacity",0).addClass("active").animate({opacity:1},250,"easeOutSine",function(){uslugiClickable=!0})}))}),$("#cennik .buttons .button").click(function(){cennikClickable&&!$(this).is(".active")&&(cennikClickable=!1,$("#cennik .buttons .button.active").removeClass("active"),$(this).addClass("active"),$("#cennik .content.active").animate({opacity:0},250,"easeOutSine",function(){var e=$("#cennik .content.active").height();$("#cennik .content.active").removeClass("active"),$("#"+$("#cennik .buttons .button.active").attr("data-target")).css("opacity",0).addClass("active");var i=$("#cennik .content.active").height();$("#"+$("#cennik .buttons .button.active").attr("data-target")).css("height",e).animate({opacity:1,height:i},250,"easeOutSine",function(){cennikClickable=!0,$("#cennik .content").css("height","")}),cennikKatChanged||(cennik_border_remove(),cennikKatChanged=!0)}))}),cennik_border_remove(),uslugiClickable=!0,cennikClickable=!0}function cennik_border_remove(){var e=0,i=0;$("#cennik .content.active .kategoria").each(function(){e<$(this).offset().top&&!$(this).is(":last-child")&&(e=$(this).offset().top,i=$(this).index())}),$("#cennik .content.active .kategoria").eq(i).addClass("last")}var submitable=!1;function initRezerwacja(){$("#rezerwacja-formularz").submit(function(e){e.preventDefault()}),$("#rezerwacja-formularz").validate({rules:{f_email:{required:!0,email:!0},f_wiadomosc:"required"},messages:{f_email:"Proszę podać prawidłowy adres email",f_wiadomosc:"Proszę wypełnić polę wiadomości"},submitHandler:function(e){if(submitable){submitable=!1;var i=$("#rezerwacja-formularz"),a=i.find("input, textarea"),t=i.serialize();request=$.ajax({url:i.attr("action"),type:"post",data:t}),request.done(function(e,i,a){$("#rezerwacja-formularz").animate({opacity:0},800,"easeInSine",function(){$("#wiadomosc-wyslana").css("display","block").delay(100).animate({opacity:1},800,"easeOutSine")}),console.log(e)}),request.fail(function(e,i,a){alert("Wystąpił błąd podczas wysyłania wiadomości, proszę napisz wiadomość email bezpośrednio na adres: m.bulgajewska@gmail.com, lub zadzwoń na numer +48 665 501 604"),console.error("The following error occurred: "+i,a),submitable=!0}),request.always(function(){a.prop("disabled",!1)})}}}),$("#rezerwacja-formularz #f_wiadomosc").css("min-height",$("#rezerwacja-formularz #f_wiadomosc").outerHeight()),$("#rezerwacja-formularz #f_wiadomosc").css("max-height",2*$("#rezerwacja-formularz #f_wiadomosc").height()),$("#rezerwacja-formularz #f_wiadomosc").on("input",function(){document.getElementById("f_wiadomosc").style.height="5px",document.getElementById("f_wiadomosc").style.height=document.getElementById("f_wiadomosc").scrollHeight+2+"px"}),submitable=!0}function createCookie(e,i,a){var t;if(a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3),t="; expires="+o.toGMTString()}else t="";document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+t+"; path=/"}function readCookie(e){for(var i=encodeURIComponent(e)+"=",a=document.cookie.split(";"),t=0;t<a.length;t++){for(var o=a[t];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(i))return decodeURIComponent(o.substring(i.length,o.length))}return null}function eraseCookie(e){createCookie(e,"",-1)}